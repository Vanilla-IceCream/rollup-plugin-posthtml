{"version":3,"file":"rollup-plugin-posthtml.cjs.js","sources":["../src/index.js"],"sourcesContent":["import { createFilter } from 'rollup-pluginutils';\r\nimport posthtml from 'posthtml';\r\n\r\nexport default function(options = {}) {\r\n  if (!options.include) options.include = '**/*.html';\r\n\r\n  const filter = createFilter(options.include, options.exclude);\r\n\r\n  return {\r\n    name: 'posthtml',\r\n    transform(code, id) {\r\n      if (!filter(id)) return;\r\n\r\n      return posthtml(options.plugins || [])\r\n        .process(code, { parser: options.parser })\r\n        .then(result => {\r\n          const html = options.template\r\n            ? `export default (_) => ${result.html}`\r\n            : `export default ${JSON.stringify(result.html)}`;\r\n\r\n          return html;\r\n        });\r\n    }\r\n  };\r\n}\r\n"],"names":["const","createFilter"],"mappings":";;;;;;;AAGA,YAAe,SAAS,OAAY,EAAE;mCAAP,GAAG,EAAE;;EAClC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAA,OAAO,CAAC,OAAO,GAAG,WAAW,CAAC,EAAA;;EAEpDA,IAAM,MAAM,GAAGC,8BAAY,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;;EAE9D,OAAO;IACL,IAAI,EAAE,UAAU;IAChB,SAAS,oBAAA,CAAC,IAAI,EAAE,EAAE,EAAE;MAClB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAA,OAAO,EAAA;;MAExB,OAAO,QAAQ,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;SACnC,OAAO,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC;SACzC,IAAI,CAAC,UAAA,MAAM,EAAC;UACXD,IAAM,IAAI,GAAG,OAAO,CAAC,QAAQ;eACzB,wBAAuB,IAAE,MAAM,CAAC,IAAI,CAAA;eACpC,iBAAgB,IAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA,CAAE,CAAC;;UAEpD,OAAO,IAAI,CAAC;SACb,CAAC,CAAC;KACN;GACF,CAAC;CACH,CAAA;;"}